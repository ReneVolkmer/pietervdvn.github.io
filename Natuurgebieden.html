<html>
<head>
	<title>Natuurgebieden-Plan</title>
	<link rel="stylesheet" href="vendor/leaflet/leaflet.css"/>
	<script src="vendor/leaflet/leaflet.js"></script>
	<script src="vendor/jquery-3.3.1.min.js"></script>
   <script src="LoadFromOverpass.js"></script>

	<style>
		#map{ width: 1500px; height: 800; }
	</style>

</head>


<body>


<div id="map"></div>

	<h1>Natuurgebieden van Natuurpunt Brugge</h1>


	<script>

		function toHa(surface){
			return Math.floor(surface/100)/100;
		}

		function popupText(tags, area){
			text = "";
			if(tags.name){
				text += "<b>"+tags.name+"</b> ("+toHa(tags.area)+" hectare)<br />";
			}
			if(tags.area != area && !isNaN(area)){
				text += "<p>"+toHa(area)+" hectare geselecteerd</p>";
			}
			if(tags.description){
				text += "<p>"+tags.description+"<p>";
			}

			if(tags.website){
				text += "<a href=\""+tags.website+"\" target='_blank'>Bekijk op de site</a><br />";
			}
			if(tags.operator){
				text += "<p>Beheer door "+tags.operator+"</p>";
			}
			if(tags.wikipedia){
				text += "<h2>Op wikipedia</h2>";

				text += '<div id="" style="overflow:scroll; height:400px;">' + tags.wikipedia_contents + '</div>';
			}

			return text;
		}


		console.log("Getting started...");
		map = initializeMap();
		map.setView([51.222, 3.227], 12);
		/*
		searchAndRender(['"operator"="Natuurpunt Brugge"', '"leisure"="nature_reserve"'], popupText, map);/*/
		$.getJSON("https://raw.githubusercontent.com/pietervdvn/pietervdvn.github.io/master/cache/Natuurgebieden.json",
			function(json){renderQuery(json.elements, popupText)}); //*/
	</script>








</body>


</html>
